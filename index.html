<html>

<head>
    <!-- Page config -->
    <meta charset="utf-8">
    <title>Mapas d3</title>

    <!-- Required libs -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"
        integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"
        integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG"
        crossorigin="anonymous"></script>
    <script data-require="d3@4.0.0" data-semver="4.0.0" src="https://d3js.org/d3.v4.min.js"></script>

    <!-- D3 -->
    <script src="https://d3js.org/d3.v3.min.js"></script>

    <!-- CSS styles -->
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <!-- Nabvar START -->
    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" style="margin-left: 2%;" href="#">Mapas d3</a>
    </nav>
    <!-- Navbar END -->

    <h1 class="display-1" align="center">Mapa de canarias</h1>

    <!-- Map container -->
    <div id="map"></div>
    <svg></svg>

    <!-- Map script -->
    <script type="text/javascript">
        var width = 1000, height = 500, centered;

        var color = d3.scale.linear()
            .domain([1, 20])
            .clamp(true)
            .range(['#fff', '#409A99']);

        var projection = d3.geo.mercator()
            .scale([11000])
            .center([-15.749, 28.536])
            .translate([width / 2, height / 2]);

        var path = d3.geo.path()
            .projection(projection);

        var svg = d3.select('svg')
            .attr('width', width)
            .attr('height', height);

        svg.append('rect')
            .attr('class', 'background')
            .attr('width', width)
            .attr('height', height);
            //.on('click', clicked);

        var g = svg.append('g');

        var effectLayer = g.append('g')
            .classed('effect-layer', true);

        var mapLayer = g.append('g')
            .classed('map-layer', true);

        var dummyText = g.append('text')
            .classed('dummy-text', true)
            .attr('x', 10)
            .attr('y', 30)
            .style('opacity', 0);

        var bigText = g.append('text')
            .classed('big-text', true)
            .attr('x', 20)
            .attr('y', 45);

            // colombia.geo.json
            // PMH_SD_20170101_Cartografia.geojson
        d3.json('data/PMH_SD_20170101_Cartografia.geojson', function (error, mapData) {
            var features = mapData.features;

            console.log(features[0]);
            //color.domain([0, d3.max(features, nameLength)]);

            mapLayer.selectAll('path')
                .data(features)
                .enter().append('path')
                .attr('d', path)
                .attr('vector-effect', 'non-scaling-stroke');
                //.style('fill', fillFn)
                //.on('mouseover', mouseover)
                //.on('mouseout', mouseout)
                //.on('click', clicked);
        });

        // Aditional functions

    </script>
</body>

</html>